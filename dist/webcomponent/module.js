/*!
 * Copyright (c) 2018 Florian Klampfer <https://qwtel.com/>
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 * 
 */
!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("hyImg",[],r):"object"==typeof exports?exports.hyImg=r():t.hyImg=r()}(window,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=3)}([function(t,r,e){"use strict";(function(t){e.d(r,"a",function(){return i});var n="undefined"!=typeof window&&window,o="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=n||void 0!==t&&t||o}).call(this,e(2))},,function(t,r){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":e(window))&&(n=window)}t.exports=n},function(t,r,e){"use strict";e.r(r);var n="undefined"!=typeof Set&&1===new Set([1]).size?Set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(t=t.filter(function(r,e){return e===t.indexOf(r)})).size=t.length,t.has=function(r){return t.indexOf(r)>-1},t.add=function(r){return t.has(r)||(t.size++,t.push(r)),t},t.delete=function(r){var e;return(e=t.has(r))&&(t.size--,t.splice(t.indexOf(r),1)),e},t.clear=function(){for(;t.pop(););t.size=0},t};var o=new n(["customevent"]),i=Symbol||function(t){return"_".concat(t)};i("sroot"),i("state");window.process=window.process||{},window.process.env=window.process.env||{},window.requestIdleCallback=window.requestIdleCallback||function(t){return window.setTimeout(t,0)},window.cancelIdleCallback=window.cancelIdleCallback||window.clearTimeout;var s=new n(function(t){return function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(o).concat(["template","customelements"]));function u(){var t="function"==typeof window.HTMLElement?window.HTMLElement:function(){};return Reflect.construct(t,[],this.__proto__.constructor)}Object.setPrototypeOf&&(Object.setPrototypeOf(u.prototype,HTMLElement.prototype),Object.setPrototypeOf(u,HTMLElement));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var c=function(t,r){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function a(t,r){function e(){this.constructor=t}c(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}function p(t){return"function"==typeof t}var f=!1,l={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;f=t},get useDeprecatedSynchronousErrorHandling(){return f}};function h(t){setTimeout(function(){throw t})}var b={closed:!0,next:function(t){},error:function(t){if(l.useDeprecatedSynchronousErrorHandling)throw t;h(t)},complete:function(){}},y=Array.isArray||function(t){return t&&"number"==typeof t.length};function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t){return null!=t&&"object"===d(t)}var m,_={e:{}};function v(){try{return m.apply(this,arguments)}catch(t){return _.e=t,_}}function S(t){return m=t,v}function g(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,r){return r+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}g.prototype=Object.create(Error.prototype);var E=g;function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var j=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,r=!1;if(!this.closed){var e=this._parent,n=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,u=n?n.length:0;e;)e.remove(this),e=++s<u&&n[s]||null;if(p(o))S(o).call(this)===_&&(r=!0,t=t||(_.e instanceof E?x(_.e.errors):[_.e]));if(y(i))for(s=-1,u=i.length;++s<u;){var c=i[s];if(w(c))if(S(c.unsubscribe).call(c)===_){r=!0,t=t||[];var a=_.e;a instanceof E?t=t.concat(x(a.errors)):t.push(a)}}if(r)throw new E(t)}},t.prototype.add=function(r){if(!r||r===t.EMPTY)return t.EMPTY;if(r===this)return this;var e=r;switch(T(r)){case"function":e=new t(r);case"object":if(e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if("function"!=typeof e._addParent){var n=e;(e=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(e),e._addParent(this),e},t.prototype.remove=function(t){var r=this._subscriptions;if(r){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.prototype._addParent=function(t){var r=this._parent,e=this._parents;r&&r!==t?e?-1===e.indexOf(t)&&e.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function x(t){return t.reduce(function(t,r){return t.concat(r instanceof E?r.errors:r)},[])}var O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber";function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var C=function(t){function r(r,e,n){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,o._parentSubscription=null,arguments.length){case 0:o.destination=b;break;case 1:if(!r){o.destination=b;break}if("object"===P(r)){if(function(t){return t instanceof C||"syncErrorThrowable"in t&&t[O]}(r)){var i=r[O]();o.syncErrorThrowable=i.syncErrorThrowable,o.destination=i,i._addParentTeardownLogic(o)}else o.syncErrorThrowable=!0,o.destination=new q(o,r);break}default:o.syncErrorThrowable=!0,o.destination=new q(o,r,e,n)}return o}return a(r,t),r.prototype[O]=function(){return this},r.create=function(t,e,n){var o=new r(t,e,n);return o.syncErrorThrowable=!1,o},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t),this._unsubscribeParentSubscription())},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete(),this._unsubscribeParentSubscription())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._addParentTeardownLogic=function(t){this._parentSubscription=this.add(t)},r.prototype._unsubscribeParentSubscription=function(){null!==this._parentSubscription&&this._parentSubscription.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parent,r=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=r,this._parentSubscription=null,this},r}(j),q=function(t){function r(r,e,n,o){var i,s=t.call(this)||this;s._parentSubscriber=r;var u=s;return p(e)?i=e:e&&(i=e.next,n=e.error,o=e.complete,e!==b&&(p((u=Object.create(e)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=i,s._error=n,s._complete=o,s}return a(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;l.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber,e=l.useDeprecatedSynchronousErrorHandling;if(this._error)e&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)e?(r.syncErrorValue=t,r.syncErrorThrown=!0):h(t),this.unsubscribe();else{if(this.unsubscribe(),e)throw t;h(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var e=function(){return t._complete.call(t._context)};l.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){if(this.unsubscribe(),l.useDeprecatedSynchronousErrorHandling)throw t;h(t)}},r.prototype.__tryOrSetError=function(t,r,e){if(!l.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,e)}catch(r){return l.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(h(r),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(C);var H="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(){}function M(t){return t?1===t.length?t[0]:function(r){return t.reduce(function(t,r){return r(t)},r)}:A}var D=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var n=this.operator,o=function(t,r,e){if(t){if(t instanceof C)return t;if(t[O])return t[O]()}return t||r||e?new C(t,r,e):new C(b)}(t,r,e);if(n?n.call(o,this.source):o._addParentTeardownLogic(this.source||l.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),l.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){l.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),t.error(r)}},t.prototype.forEach=function(t,r){var e=this;return new(r=R(r))(function(r,n){var o;o=e.subscribe(function(r){try{t(r)}catch(t){n(t),o&&o.unsubscribe()}},n,r)})},t.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},t.prototype[H]=function(){return this},t.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 0===t.length?this:M(t)(this)},t.prototype.toPromise=function(t){var r=this;return new(t=R(t))(function(t,e){var n;r.subscribe(function(t){return n=t},function(t){return e(t)},function(){return t(n)})})},t.create=function(r){return new t(r)},t}();function R(t){if(t||(t=l.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}L.prototype=Object.create(Error.prototype);var X=function(t){function r(r){var e=t.call(this,r)||this;return e.destination=r,e}return a(r,t),r}(C);var k=function(t){return null==t?null:t.trim().replace(/^\[?(.*?)\]?$/,"$1").split(",").map(function(t){return t.trim()})||null};k.stringify=function(t){return t&&t.length>0?t.join(","):null};var I=function(t){if(null==t)return!1;var r=t.trim&&t.trim()||t;return!("false"===r||"null"===r||"undefined"===r||"0"===r||!1===r)};I.stringify=function(t){return t?"":null};var U=function(t){return null==t?null:Number(t)};U.stringify=function(t){return null==t?null:"".concat(t)};var z=function(t){if(null==t)return null;var r=(t.trim&&t.trim()||t).match(/^\/?(.*?)(\/([gimy]*))?$/);return new RegExp(r[1],r[3])};z.stringify=function(t){return t&&t.toString()||null};var F=function(t){return t};F.stringify=function(t){return t};function W(t,r){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new G(t,r))}}var G=function(){function t(t,r){this.project=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new N(t,this.project,this.thisArg))},t}(),N=function(t){function r(r,e,n){var o=t.call(this,r)||this;return o.project=e,o.count=0,o.thisArg=n||o,o}return a(r,t),r.prototype._next=function(t){var r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(r)},r}(C);Object.prototype.toString;var V=e(0);function J(t,r){return void 0===r&&(r=null),new tt({method:"GET",url:t,headers:r})}function Y(t,r,e){return new tt({method:"POST",url:t,body:r,headers:e})}function $(t,r){return new tt({method:"DELETE",url:t,headers:r})}function B(t,r,e){return new tt({method:"PUT",url:t,body:r,headers:e})}function K(t,r,e){return new tt({method:"PATCH",url:t,body:r,headers:e})}var Q=W(function(t,r){return t.response});function Z(t,r){return Q(new tt({method:"GET",url:t,responseType:"json",headers:r}))}var tt=function(t){function r(r){var e=t.call(this)||this,n={async:!0,createXHR:function(){return this.crossDomain?function(){if(V.a.XMLHttpRequest)return new V.a.XMLHttpRequest;if(V.a.XDomainRequest)return new V.a.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(V.a.XMLHttpRequest)return new V.a.XMLHttpRequest;var t=void 0;try{for(var r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=0;e<3;e++)try{if(t=r[e],new V.a.ActiveXObject(t))break}catch(t){}return new V.a.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof r)n.url=r;else for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o]);return e.request=n,e}return a(r,t),r.prototype._subscribe=function(t){return new rt(t,this.request)},r.create=function(){var t=function(t){return new r(t)};return t.get=J,t.post=Y,t.delete=$,t.put=B,t.patch=K,t.getJSON=Z,t}(),r}(D),rt=function(t){function r(r,e){var n=t.call(this,r)||this;n.request=e,n.done=!1;var o=e.headers=e.headers||{};return e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in o||V.a.FormData&&e.body instanceof V.a.FormData||void 0===e.body||(o["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),e.body=n.serializeBody(e.body,e.headers["Content-Type"]),n.send(),n}return a(r,t),r.prototype.next=function(t){this.done=!0;var r=this.xhr,e=this.request,n=this.destination,o=new et(t,r,e);o.response===_?n.error(_.e):n.next(o)},r.prototype.send=function(){var t=this.request,r=this.request,e=r.user,n=r.method,o=r.url,i=r.async,s=r.password,u=r.headers,c=r.body,a=S(t.createXHR).call(t);if(a===_)this.error(_.e);else{this.xhr=a,this.setupEvents(a,t);if((e?S(a.open).call(a,n,o,i,e,s):S(a.open).call(a,n,o,i))===_)return this.error(_.e),null;if(i&&(a.timeout=t.timeout,a.responseType=t.responseType),"withCredentials"in a&&(a.withCredentials=!!t.withCredentials),this.setHeaders(a,u),(c?S(a.send).call(a,c):S(a.send).call(a))===_)return this.error(_.e),null}return a},r.prototype.serializeBody=function(t,r){if(!t||"string"==typeof t)return t;if(V.a.FormData&&t instanceof V.a.FormData)return t;if(r){var e=r.indexOf(";");-1!==e&&(r=r.substring(0,e))}switch(r){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(r){return encodeURIComponent(r)+"="+encodeURIComponent(t[r])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},r.prototype.setHeaders=function(t,r){for(var e in r)r.hasOwnProperty(e)&&t.setRequestHeader(e,r[e])},r.prototype.setupEvents=function(t,r){var e=r.progressSubscriber;function n(t){var r=n,e=r.subscriber,o=r.progressSubscriber,i=r.request;o&&o.error(t);var s=new ut(this,i);s.response===_?e.error(_.e):e.error(s)}if(t.ontimeout=n,n.request=r,n.subscriber=this,n.progressSubscriber=e,t.upload&&"withCredentials"in t){var o,i;if(e)o=function(t){o.progressSubscriber.next(t)},V.a.XDomainRequest?t.onprogress=o:t.upload.onprogress=o,o.progressSubscriber=e;i=function(t){var r=i,e=r.progressSubscriber,n=r.subscriber,o=r.request;e&&e.error(t);var s=new ot("ajax error",this,o);s.response===_?n.error(_.e):n.error(s)},t.onerror=i,i.request=r,i.subscriber=this,i.progressSubscriber=e}function s(t){}function u(t){var r=u,e=r.subscriber,n=r.progressSubscriber,o=r.request;if(4===this.readyState){var i=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;if(0===i&&(i=s?200:0),i<400)n&&n.complete(),e.next(t),e.complete();else{n&&n.error(t);var c=new ot("ajax error "+i,this,o);c.response===_?e.error(_.e):e.error(c)}}}t.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=e,s.request=r,t.onload=u,u.subscriber=this,u.progressSubscriber=e,u.request=r},r.prototype.unsubscribe=function(){var r=this.done,e=this.xhr;!r&&e&&4!==e.readyState&&"function"==typeof e.abort&&e.abort(),t.prototype.unsubscribe.call(this)},r}(C),et=function(){return function(t,r,e){this.originalEvent=t,this.xhr=r,this.request=e,this.status=r.status,this.responseType=r.responseType||e.responseType,this.response=st(this.responseType,r)}}();function nt(t,r,e){return Error.call(this),this.message=t,this.name="AjaxError",this.xhr=r,this.request=e,this.status=r.status,this.responseType=r.responseType||e.responseType,this.response=st(this.responseType,r),this}nt.prototype=Object.create(Error.prototype);var ot=nt;function it(t){return"response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null")}function st(t,r){switch(t){case"json":return S(it)(r);case"xml":return r.responseXML;case"text":default:return"response"in r?r.response:r.responseText}}var ut=function(t,r){return ot.call(this,"ajax timeout",t,r),this.name="AjaxTimeoutError",this};tt.create;function ct(){return function(t){return t.lift(new at(t))}}var at=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,r){var e=this.connectable;e._refCount++;var n=new pt(t,e),o=r.subscribe(n);return n.closed||(n.connection=e.connect()),o},t}(),pt=function(t){function r(r,e){var n=t.call(this,r)||this;return n.connectable=e,n}return a(r,t),r.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var r=t._refCount;if(r<=0)this.connection=null;else if(t._refCount=r-1,r>1)this.connection=null;else{var e=this.connection,n=t._connection;this.connection=null,!n||e&&n!==e||n.unsubscribe()}}else this.connection=null},r}(C),ft=function(t){function r(r,e){var n=t.call(this)||this;return n.source=r,n.subjectFactory=e,n._refCount=0,n._isComplete=!1,n}return a(r,t),r.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},r.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},r.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new j).add(this.source.subscribe(new lt(this.getSubject(),this))),t.closed?(this._connection=null,t=j.EMPTY):this._connection=t),t},r.prototype.refCount=function(){return ct()(this)},r}(D).prototype,lt=(ft._subscribe,ft._isComplete,ft.getSubject,ft.connect,ft.refCount,function(t){function r(r,e){var n=t.call(this,r)||this;return n.connectable=e,n}return a(r,t),r.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},r.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},r.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var r=t._connection;t._refCount=0,t._subject=null,t._connection=null,r&&r.unsubscribe()}},r}(X));"attributeStyleMap"in Element.prototype&&"CSS"in window&&CSS.number;var ht=new n(function(t){return function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(o).concat(["eventlistener","queryselector","requestanimationframe"]));function bt(t){return function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}new n(bt(s).concat(bt(ht)));var yt=function(){return window.customElements.define("hy-img",ShyImageElement)};"customElements"in window||window.WebComponents&&window.WebComponents.ready?yt():window.WebComponents&&window.addEventListener("WebComponentsReady",yt)}])});
//# sourceMappingURL=module.js.map